<!DOCTYPE html>
<!-- source: https://bl.ocks.org/mbostock/3048450 -->

<meta charset="utf-8">
<style>

    .bar rect {
      fill: darkorange;
    }

    .bar text {
      fill: #fff;
      font: 10px sans-serif;
    }

    .toolTip {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        position: absolute;
        display: none;
        width: auto;
        height: auto;
        background: none repeat scroll 0 0 white;
        border: 0 none;
        border-radius: 8px 8px 8px 8px;
        box-shadow: -3px 3px 15px #888888;
        color: black;
        font: 12px sans-serif;
        padding: 5px;
        text-align: center;
    }
    
</style>

<body>
    <h1 align="center" style="font-family:Helvetica, Ariel, sans-serif;">FEMALE - FEAR</h1>
</body>

<svg width="800" height="400"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

    var data = [0.670958,0.663392,0.634246,0.627221,0.617291,0.609836,0.608959,0.58277,0.572221,0.572062,0.563879,0.546244,0.537725,0.536523,0.535378,0.533561,0.530283,0.525966,0.521041,0.518907,0.517913,0.516639,0.512852,0.508256,0.50693,0.505964,0.503472,0.503108,0.498772,0.494045,0.49364,0.486232,0.482857,0.482802,0.481887,0.477546,0.476489,0.475874,0.472042,0.471243,0.46809,0.467288,0.466212,0.465621,0.464379,0.463308,0.463293,0.463137,0.462408,0.459775,0.457967,0.456434,0.456353,0.455829,0.455163,0.453794,0.449781,0.44905,0.448296,0.447197,0.444181,0.443722,0.442002,0.436252,0.435311,0.435198,0.434997,0.423842,0.417088,0.222554,0.222464,0.220717,0.219803,0.216434,0.210939,0.210493,0.210153,0.209501,0.208736,0.208336,0.208071,0.207937,0.207511,0.2068,0.206394,0.206053,0.205042,0.205022,0.204029,0.203504,0.203264,0.202974,0.202859,0.202688,0.202237,0.202176,0.201888,0.201111,0.200336,0.199832,0.199655,0.19959,0.19838,0.198221,0.197427,0.197281,0.197247,0.195316,0.194887,0.194479,0.193915,0.193858,0.193813,0.19352,0.193269,0.193251,0.193122,0.193032,0.192787,0.191997,0.191919,0.191267,0.190772,0.190616,0.190501,0.189629,0.189564,0.189315,0.188984,0.18892,0.188901,0.188617,0.18836,0.18816,0.186591,0.18631,0.186273,0.186269,0.185842,0.185781,0.185635,0.185586,0.185474,0.185319,0.185285,0.185237,0.184984,0.184981,0.184969,0.184925,0.184842,0.184583,0.184476,0.184461,0.184366,0.184148,0.184027,0.183881,0.183851,0.183807,0.183671,0.183586,0.18331,0.183213,0.183173,0.182642,0.182344,0.181867,0.181859,0.181464,0.181223,0.180846,0.180791,0.18054,0.180534,0.18048,0.180455,0.180043,0.179861,0.179738,0.179562,0.178885,0.178674,0.178574,0.178313,0.178129,0.177952,0.177796,0.177669,0.177488,0.1774,0.176745,0.176682,0.176676,0.176664,0.176553,0.176499,0.176428,0.176406,0.176365,0.176353,0.17633,0.176254,0.1762,0.176165,0.175555,0.175519,0.175224,0.174922,0.174908,0.174675,0.174615,0.1744,0.173989,0.173953,0.173881,0.173529,0.17341,0.173384,0.173368,0.173282,0.173273,0.173199,0.173134,0.172808,0.172328,0.172154,0.172041,0.171811,0.171659,0.171547,0.171263,0.171105,0.171094,0.170995,0.170972,0.170958,0.170712,0.170708,0.170703,0.170539,0.170445,0.170043,0.169944,0.169636,0.169529,0.16948,0.169411,0.169021,0.168711,0.168655,0.168646,0.168517,0.168024,0.167992,0.167931,0.167901,0.167888,0.167791,0.167657,0.167546,0.167462,0.167311,0.167003,0.166945,0.16675,0.166672,0.166104,0.165976,0.165933,0.165675,0.165596,0.165467,0.165395,0.165369,0.165021,0.164986,0.164742,0.164631,0.164616,0.164191,0.163797,0.163693,0.163546,0.163418,0.163407,0.163103,0.163025,0.162478,0.162437,0.162344,0.162257,0.162061,0.161319,0.161178,0.160732,0.160716,0.160641,0.160186,0.159104,0.159009,0.158893,0.158718,0.158566,0.15848,0.158392,0.158203,0.157372,0.15706,0.157028,0.156495,0.156479,0.156113,0.156058,0.155907,0.155511,0.155228,0.155215,0.155208,0.154644,0.154428,0.154366,0.154046,0.153734,0.153318,0.15311,0.153091,0.15299,0.152805,0.152523,0.152354,0.152347,0.15234,0.152302,0.152226,0.151971,0.151339,0.151317,0.151132,0.151016,0.150377,0.150294,0.149714,0.149489,0.149203,0.149117,0.148826,0.147588,0.14754,0.147426,0.147161,0.146618,0.146199,0.145916,0.145501,0.14504,0.144029,0.143761,0.143367,0.143108,0.142864,0.142611,0.142592,0.14245,0.141916,0.141455,0.141357,0.141305,0.140486,0.139304,0.138856,0.137757,0.13606,0.135541,0.133831,0.130695,0.128527];

    var formatCount = d3.format(",.0f");

    var svg = d3.select("svg"),
        margin = {top: 10, right: 30, bottom: 30, left: 30},
        width = +svg.attr("width") - margin.left - margin.right,
        height = +svg.attr("height") - margin.top - margin.bottom,
        g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    var x = d3.scaleLinear()
        .rangeRound([0, width]);

    var bins = d3.histogram()
        .domain(x.domain())
        .thresholds(x.ticks(20))
        (data);

    var y = d3.scaleLinear()
        .domain([0, d3.max(bins, function(d) { return d.length; })])
        .range([height, 0]);

    var bar = g.selectAll(".bar")
        .data(bins)
        .enter().append("g")
        .attr("class", "bar")
        .attr("transform", function(d) { return "translate(" + x(d.x0) + "," + y(d.length) + ")"; });

    bar.append("rect")
        .attr("x", 1)
        .attr("width", x(bins[0].x1) - x(bins[0].x0) - 1)
        .attr("height", function(d) { return height - y(d.length); });

    bar.append("text")
        .attr("dy", ".75em")
        .attr("y", 6)
        .attr("x", (x(bins[0].x1) - x(bins[0].x0)) / 2)
        .attr("text-anchor", "middle")
        .text(function(d) { return formatCount(d.length); });

    g.append("g")
        .attr("class", "axis axis--x")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x));

    var div = d3.select("body").append("div").attr("class", "toolTip");

    bar.on("mousemove", function(d, i){
                div.style("left", d3.event.pageX+10+"px");
                div.style("top", d3.event.pageY-25+"px");
                div.style("display", "inline-block");
                div.html(formatCount(d.length));
            });

    bar.on("mouseout", function(d){
                div.style("display", "none");
            });

</script>
