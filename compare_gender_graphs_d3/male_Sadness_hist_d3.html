<!DOCTYPE html>
<!-- source: https://bl.ocks.org/mbostock/3048450 -->

<meta charset="utf-8">
<style>

    .bar rect {
      fill: steelblue;
    }

    .bar text {
      fill: #fff;
      font: 10px sans-serif;
    }

    .toolTip {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        position: absolute;
        display: none;
        width: auto;
        height: auto;
        background: none repeat scroll 0 0 white;
        border: 0 none;
        border-radius: 8px 8px 8px 8px;
        box-shadow: -3px 3px 15px #888888;
        color: black;
        font: 12px sans-serif;
        padding: 5px;
        text-align: center;
    }
    
</style>

<body>
    <h1 align="center" style="font-family:Helvetica, Ariel, sans-serif;">MALE - SADNESS</h1>
</body>

<svg width="800" height="400"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

    var data = [0.633336,0.609757,0.60777,0.603375,0.602738,0.602178,0.598359,0.594885,0.594382,0.593316,0.591722,0.590789,0.590629,0.589719,0.588191,0.587889,0.587667,0.586036,0.584079,0.583896,0.583276,0.582379,0.582069,0.58173,0.581279,0.580535,0.580343,0.580014,0.579605,0.579575,0.57927,0.578345,0.578001,0.577815,0.57668,0.576264,0.576245,0.57573,0.575605,0.574549,0.57399,0.573332,0.573059,0.57281,0.572793,0.572694,0.571793,0.571324,0.57084,0.570318,0.569732,0.569505,0.569018,0.56901,0.568694,0.568595,0.568248,0.567929,0.566709,0.566629,0.566408,0.566366,0.566352,0.566342,0.565778,0.565651,0.565541,0.56547,0.565379,0.564993,0.564894,0.56475,0.564624,0.56437,0.564244,0.564208,0.563952,0.563207,0.563178,0.563159,0.562818,0.562445,0.562295,0.562099,0.562027,0.562008,0.561352,0.561191,0.561158,0.560184,0.56014,0.559921,0.559879,0.559778,0.559744,0.559702,0.559622,0.559433,0.559187,0.558939,0.558902,0.558227,0.55816,0.558008,0.557755,0.557618,0.557603,0.557159,0.5571,0.556972,0.556931,0.5569,0.556882,0.556759,0.556712,0.556631,0.55648,0.556448,0.556326,0.556326,0.555791,0.5555,0.55544,0.555438,0.555365,0.555057,0.555056,0.554933,0.554909,0.554867,0.554842,0.55479,0.554481,0.553926,0.553877,0.553772,0.553631,0.553247,0.553115,0.55284,0.552798,0.552787,0.552724,0.552643,0.552507,0.552246,0.552065,0.552,0.551941,0.551892,0.55183,0.551771,0.551625,0.55161,0.551453,0.551413,0.551386,0.551258,0.551198,0.551125,0.550779,0.550772,0.550708,0.549832,0.549792,0.549711,0.549562,0.549472,0.549268,0.549232,0.549219,0.549216,0.549191,0.548577,0.548332,0.548183,0.548168,0.548089,0.547956,0.547946,0.547915,0.547654,0.547568,0.547477,0.547406,0.547332,0.547327,0.547097,0.546971,0.546745,0.546505,0.546491,0.546351,0.546219,0.546211,0.546184,0.54609,0.546045,0.545746,0.545472,0.545462,0.545291,0.545168,0.545167,0.545047,0.544985,0.544982,0.544572,0.544524,0.544514,0.544484,0.544266,0.543888,0.543886,0.543794,0.543762,0.543693,0.543465,0.543451,0.543324,0.543125,0.54312,0.543064,0.543062,0.542911,0.542815,0.542665,0.542489,0.54241,0.54234,0.542149,0.542105,0.541833,0.54177,0.541767,0.541728,0.541727,0.541647,0.541628,0.54159,0.541575,0.541366,0.541297,0.541249,0.541181,0.540985,0.540962,0.540919,0.540898,0.540863,0.540675,0.540465,0.540341,0.540337,0.540257,0.539941,0.539704,0.539642,0.539349,0.539304,0.539281,0.539255,0.539097,0.539088,0.538985,0.538917,0.538875,0.538742,0.53833,0.538323,0.538279,0.537776,0.537603,0.537408,0.537376,0.537291,0.537259,0.537248,0.537227,0.536964,0.536929,0.536708,0.536447,0.536323,0.536191,0.536169,0.536103,0.535778,0.535753,0.535648,0.535624,0.535591,0.535539,0.535503,0.535449,0.535364,0.535175,0.535027,0.535006,0.534638,0.534331,0.53428,0.534268,0.534133,0.533919,0.533686,0.533383,0.533378,0.533326,0.533213,0.533117,0.532994,0.532953,0.532918,0.532904,0.532861,0.532857,0.532823,0.532758,0.532576,0.532511,0.532415,0.53241,0.532374,0.532351,0.532344,0.532256,0.532244,0.531932,0.531793,0.531739,0.531669,0.531646,0.531599,0.531487,0.531452,0.531414,0.531339,0.531336,0.531225,0.531133,0.530983,0.530894,0.530859,0.530823,0.530792,0.5307,0.530627,0.530535,0.530528,0.530517,0.530494,0.530431,0.530393,0.530195,0.530106,0.530058,0.529882,0.529772,0.529702,0.529702,0.529662,0.529641,0.529573,0.529284,0.529112,0.529023,0.52881,0.528804,0.528803,0.52875,0.528637,0.528613,0.528543,0.528507,0.528464,0.528283,0.528191,0.528134,0.52801,0.527974,0.527797,0.52769,0.527456,0.52729,0.527276,0.527244,0.527191,0.527064,0.526954,0.526936,0.526858,0.526786,0.526645,0.526509,0.52637,0.526222,0.526176,0.526169,0.526125,0.525967,0.525813,0.525367,0.525152,0.52504,0.52496,0.524811,0.524526,0.524516,0.5243,0.524169,0.524098,0.523994,0.523785,0.523537,0.523514,0.523297,0.52304,0.52298,0.522941,0.522881,0.522879,0.522878,0.522869,0.522772,0.522665,0.522651,0.522396,0.522311,0.522192,0.522133,0.522056,0.522026,0.521992,0.52194,0.521936,0.52174,0.521672,0.521575,0.521538,0.521414,0.521329,0.521158,0.520958,0.520876,0.520709,0.520389,0.520381,0.520316,0.520271,0.520249,0.520185,0.520044,0.519953,0.519897,0.519887,0.519743,0.519717,0.519717,0.519653,0.519608,0.519586,0.519485,0.519351,0.519325,0.518915,0.518871,0.518817,0.518779,0.518767,0.518754,0.51858,0.517992,0.517917,0.517846,0.517667,0.517645,0.517586,0.517506,0.517493,0.517464,0.517441,0.517295,0.517292,0.51725,0.517198,0.517173,0.517155,0.516956,0.516917,0.516703,0.516697,0.516668,0.516612,0.516528,0.516143,0.516035,0.51601,0.515907,0.515891,0.515794,0.515755,0.51568,0.51549,0.515383,0.515298,0.515254,0.515247,0.515218,0.515209,0.515053,0.514914,0.514658,0.514327,0.514317,0.5141,0.513896,0.513893,0.513888,0.51384,0.513725,0.513718,0.513683,0.513421,0.513327,0.513262,0.512967,0.512947,0.512733,0.51266,0.512561,0.512529,0.512421,0.512345,0.512255,0.512206,0.512188,0.512085,0.512012,0.511688,0.511584,0.511572,0.511564,0.51127,0.51084,0.510775,0.51077,0.510745,0.510327,0.510256,0.510228,0.510195,0.510017,0.509863,0.509862,0.509801,0.50945,0.509333,0.509305,0.509302,0.509006,0.508962,0.508892,0.508858,0.508853,0.508705,0.508694,0.508673,0.50864,0.508639,0.508583,0.508577,0.508405,0.5081,0.508033,0.50789,0.507879,0.507716,0.507513,0.507452,0.507317,0.50728,0.50725,0.507049,0.506636,0.506457,0.506297,0.506211,0.506168,0.50569,0.505618,0.505272,0.505161,0.504923,0.504826,0.504718,0.504708,0.504689,0.504569,0.504535,0.504396,0.504182,0.504093,0.503866,0.502975,0.502851,0.502833,0.502572,0.502436,0.502433,0.502412,0.50238,0.502361,0.502318,0.502125,0.502113,0.501936,0.501759,0.501646,0.501595,0.501509,0.501314,0.501086,0.501025,0.501007,0.500982,0.500904,0.500671,0.500661,0.500368,0.500361,0.500318,0.500247,0.499878,0.499796,0.499722,0.499368,0.49931,0.499251,0.499234,0.499189,0.499051,0.498447,0.498411,0.498344,0.49823,0.497948,0.497642,0.497336,0.497048,0.496765,0.496762,0.496585,0.496495,0.496468,0.496022,0.4957,0.495321,0.495308,0.495073,0.494911,0.494759,0.494707,0.494426,0.494379,0.494246,0.494077,0.493741,0.493265,0.492923,0.492885,0.492858,0.492628,0.492481,0.492086,0.492017,0.491825,0.490944,0.490674,0.49053,0.490513,0.490369,0.490344,0.490193,0.489802,0.48966,0.489322,0.488975,0.48897,0.488965,0.488847,0.488613,0.488545,0.488013,0.487953,0.487662,0.487499,0.487171,0.487144,0.486805,0.486542,0.486276,0.486115,0.486111,0.485809,0.485581,0.485546,0.485444,0.485414,0.485175,0.484005,0.483772,0.483496,0.483419,0.48338,0.482265,0.481139,0.480208,0.479854,0.479358,0.479188,0.478859,0.476953,0.476834,0.476731,0.476474,0.476194,0.475651,0.474498,0.473875,0.473247,0.472316,0.47104,0.470624,0.468581,0.468456,0.467725,0.467177,0.466361,0.464468,0.463567,0.463359,0.46215,0.460601,0.460104,0.457082,0.455486,0.45466,0.45219,0.324908,0.324059,0.307885,0.305572,0.305435,0.301245,0.298518,0.295249,0.294663,0.294074,0.293323,0.291887,0.290711,0.290318,0.282019,0.281674,0.280143,0.280033,0.2798,0.278407,0.278188,0.277831,0.27763,0.275374,0.274558,0.27422,0.274136,0.27262,0.272478,0.272405,0.272165,0.272096,0.271824,0.270542,0.270326,0.268599,0.26847,0.266631,0.26646,0.265833,0.265013,0.264942,0.264687,0.26423,0.26331,0.263275,0.262475,0.26204,0.26095,0.260741,0.260438,0.260278,0.25923,0.254445,0.252725,0.251967,0.251098,0.249191,0.247758,0.247346,0.246427,0.245974,0.245771,0.244894,0.244809,0.239964,0.235042,0.234529,0.232279,0.226506,0.224347,0.220437];

    var formatCount = d3.format(",.0f");

    var svg = d3.select("svg"),
        margin = {top: 10, right: 30, bottom: 30, left: 30},
        width = +svg.attr("width") - margin.left - margin.right,
        height = +svg.attr("height") - margin.top - margin.bottom,
        g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    var x = d3.scaleLinear()
        .rangeRound([0, width]);

    var bins = d3.histogram()
        .domain(x.domain())
        .thresholds(x.ticks(20))
        (data);

    var y = d3.scaleLinear()
        .domain([0, d3.max(bins, function(d) { return d.length; })])
        .range([height, 0]);

    var bar = g.selectAll(".bar")
        .data(bins)
        .enter().append("g")
        .attr("class", "bar")
        .attr("transform", function(d) { return "translate(" + x(d.x0) + "," + y(d.length) + ")"; });

    bar.append("rect")
        .attr("x", 1)
        .attr("width", x(bins[0].x1) - x(bins[0].x0) - 1)
        .attr("height", function(d) { return height - y(d.length); });

    bar.append("text")
        .attr("dy", ".75em")
        .attr("y", 6)
        .attr("x", (x(bins[0].x1) - x(bins[0].x0)) / 2)
        .attr("text-anchor", "middle")
        .text(function(d) { return formatCount(d.length); });

    g.append("g")
        .attr("class", "axis axis--x")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x));

    var div = d3.select("body").append("div").attr("class", "toolTip");

    bar.on("mousemove", function(d, i){
                div.style("left", d3.event.pageX+10+"px");
                div.style("top", d3.event.pageY-25+"px");
                div.style("display", "inline-block");
                div.html(formatCount(d.length));
            });

    bar.on("mouseout", function(d){
                div.style("display", "none");
            });

</script>
