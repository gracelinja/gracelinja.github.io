<!DOCTYPE html>
<!-- source: https://bl.ocks.org/mbostock/3048450 -->

<meta charset="utf-8">
<style>

    .bar rect {
      fill: darkorange;
    }

    .bar text {
      fill: #fff;
      font: 10px sans-serif;
    }

    .toolTip {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        position: absolute;
        display: none;
        width: auto;
        height: auto;
        background: none repeat scroll 0 0 white;
        border: 0 none;
        border-radius: 8px 8px 8px 8px;
        box-shadow: -3px 3px 15px #888888;
        color: black;
        font: 12px sans-serif;
        padding: 5px;
        text-align: center;
    }
    
</style>

<body>
    <h1 align="center" style="font-family:Helvetica, Ariel, sans-serif;">FEMALE - ANGER</h1>
</body>

<svg width="800" height="400"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

    var data = [0.629138,0.608541,0.604707,0.59622,0.586937,0.577708,0.574569,0.571071,0.570501,0.569742,0.567686,0.567599,0.567531,0.567143,0.563547,0.562504,0.561438,0.559156,0.557852,0.556192,0.554337,0.552701,0.551048,0.549832,0.548993,0.548939,0.545897,0.544984,0.544688,0.54424,0.539607,0.539013,0.53715,0.532184,0.530959,0.529291,0.528496,0.526819,0.524852,0.524493,0.520745,0.519141,0.518591,0.514159,0.512593,0.511554,0.511128,0.509937,0.509707,0.507846,0.507372,0.506442,0.506241,0.50488,0.50352,0.502865,0.500543,0.50044,0.498951,0.497994,0.497617,0.496478,0.496259,0.495948,0.495647,0.494055,0.492608,0.491242,0.491144,0.49087,0.490256,0.486209,0.484858,0.480021,0.478697,0.478349,0.478301,0.476251,0.475526,0.475263,0.473942,0.467392,0.464996,0.464605,0.46439,0.463623,0.463328,0.46289,0.45803,0.456824,0.452743,0.448365,0.231476,0.20376,0.203462,0.202837,0.199129,0.199125,0.196301,0.195428,0.194602,0.19457,0.194469,0.193584,0.192982,0.192199,0.191744,0.191654,0.19144,0.19127,0.190724,0.190014,0.189884,0.189836,0.188834,0.188671,0.188456,0.188265,0.188243,0.187947,0.187939,0.18793,0.18772,0.187717,0.187572,0.187127,0.186949,0.186425,0.186076,0.186024,0.185934,0.185787,0.184999,0.184973,0.184871,0.184699,0.184566,0.184541,0.184441,0.184362,0.183569,0.183419,0.183343,0.182971,0.18283,0.182789,0.182721,0.18239,0.182153,0.181829,0.181425,0.181157,0.180895,0.18032,0.180307,0.180161,0.180084,0.179344,0.179318,0.17881,0.178669,0.178589,0.178443,0.178281,0.177999,0.177879,0.177636,0.177573,0.17737,0.177257,0.176895,0.176643,0.17596,0.175859,0.175497,0.175356,0.175293,0.175282,0.175157,0.175105,0.175044,0.174948,0.174723,0.174683,0.174673,0.174352,0.174209,0.173922,0.17377,0.17357,0.172982,0.172958,0.172744,0.172491,0.172476,0.172239,0.172015,0.171852,0.171759,0.171594,0.171543,0.171433,0.170991,0.170863,0.170765,0.170693,0.170614,0.170465,0.17044,0.170258,0.170186,0.17009,0.169878,0.16977,0.16937,0.169031,0.168796,0.168693,0.168463,0.168421,0.16832,0.168301,0.167888,0.167563,0.167481,0.167401,0.1674,0.167263,0.167207,0.166829,0.166344,0.166097,0.165633,0.165626,0.165509,0.165238,0.165081,0.164784,0.163963,0.163934,0.163876,0.16379,0.163737,0.163571,0.163152,0.162949,0.162796,0.162612,0.16246,0.162163,0.162141,0.162119,0.161378,0.161152,0.160768,0.160725,0.160553,0.160405,0.159889,0.159866,0.159771,0.15977,0.159486,0.158979,0.158848,0.158675,0.158223,0.157801,0.157712,0.157501,0.157196,0.15666,0.156383,0.156303,0.156187,0.156138,0.156126,0.156076,0.155945,0.155467,0.155244,0.155038,0.155037,0.154222,0.153996,0.153921,0.153853,0.153779,0.153483,0.153463,0.153283,0.153275,0.152999,0.15258,0.152502,0.15245,0.152324,0.152009,0.151661,0.15148,0.151182,0.150998,0.150993,0.150983,0.150848,0.150778,0.150281,0.150179,0.149418,0.149284,0.148994,0.148678,0.148596,0.148318,0.148022,0.147941,0.147804,0.147431,0.147271,0.14703,0.146111,0.145382,0.145282,0.145236,0.145097,0.144627,0.14442,0.144414,0.144325,0.143863,0.143815,0.143775,0.143232,0.143016,0.142843,0.142062,0.141863,0.141858,0.1409,0.140672,0.140391,0.139859,0.139182,0.138572,0.138061,0.137866,0.137775,0.137644,0.135245,0.135098,0.133262,0.13304,0.132532,0.132275,0.131521,0.129569,0.128595,0.12835,0.12674,0.126642,0.126031,0.125825,0.125404,0.124982,0.124553,0.12443,0.123935,0.123727,0.123682,0.122444,0.120934,0.119092,0.117103,0.116829,0.113589,0.108688,0.104405];

    var formatCount = d3.format(",.0f");

    var svg = d3.select("svg"),
        margin = {top: 10, right: 30, bottom: 30, left: 30},
        width = +svg.attr("width") - margin.left - margin.right,
        height = +svg.attr("height") - margin.top - margin.bottom,
        g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    var x = d3.scaleLinear()
        .rangeRound([0, width]);

    var bins = d3.histogram()
        .domain(x.domain())
        .thresholds(x.ticks(20))
        (data);

    var y = d3.scaleLinear()
        .domain([0, d3.max(bins, function(d) { return d.length; })])
        .range([height, 0]);

    var bar = g.selectAll(".bar")
        .data(bins)
        .enter().append("g")
        .attr("class", "bar")
        .attr("transform", function(d) { return "translate(" + x(d.x0) + "," + y(d.length) + ")"; });

    bar.append("rect")
        .attr("x", 1)
        .attr("width", x(bins[0].x1) - x(bins[0].x0) - 1)
        .attr("height", function(d) { return height - y(d.length); });

    bar.append("text")
        .attr("dy", ".75em")
        .attr("y", 6)
        .attr("x", (x(bins[0].x1) - x(bins[0].x0)) / 2)
        .attr("text-anchor", "middle")
        .text(function(d) { return formatCount(d.length); });

    g.append("g")
        .attr("class", "axis axis--x")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x));

    var div = d3.select("body").append("div").attr("class", "toolTip");

    bar.on("mousemove", function(d, i){
                div.style("left", d3.event.pageX+10+"px");
                div.style("top", d3.event.pageY-25+"px");
                div.style("display", "inline-block");
                div.html(formatCount(d.length));
            });

    bar.on("mouseout", function(d){
                div.style("display", "none");
            });

</script>
