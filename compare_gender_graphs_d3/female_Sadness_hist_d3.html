<!DOCTYPE html>
<!-- source: https://bl.ocks.org/mbostock/3048450 -->

<meta charset="utf-8">
<style>

    .bar rect {
      fill: darkorange;
    }

    .bar text {
      fill: #fff;
      font: 10px sans-serif;
    }

    .toolTip {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        position: absolute;
        display: none;
        width: auto;
        height: auto;
        background: none repeat scroll 0 0 white;
        border: 0 none;
        border-radius: 8px 8px 8px 8px;
        box-shadow: -3px 3px 15px #888888;
        color: black;
        font: 12px sans-serif;
        padding: 5px;
        text-align: center;
    }
    
</style>

<body>
    <h1 align="center" style="font-family:Helvetica, Ariel, sans-serif;">FEMALE - SADNESS</h1>
</body>

<svg width="800" height="400"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

    var data = [0.62257,0.621286,0.60778,0.606467,0.601111,0.59581,0.594099,0.591938,0.59096,0.590661,0.590514,0.587505,0.587303,0.586151,0.585465,0.582808,0.582762,0.582606,0.581005,0.580055,0.57754,0.576745,0.575838,0.575455,0.575026,0.574876,0.573371,0.573044,0.571697,0.571675,0.571119,0.570594,0.568809,0.568203,0.5681,0.567958,0.567553,0.567545,0.567075,0.566924,0.566233,0.566131,0.565762,0.565754,0.565655,0.565287,0.565195,0.564628,0.564497,0.564049,0.563972,0.56385,0.563217,0.562459,0.562287,0.562275,0.561883,0.561569,0.561294,0.561105,0.561024,0.56081,0.560802,0.56027,0.560091,0.559979,0.559299,0.559225,0.559047,0.558556,0.558006,0.557736,0.557554,0.557454,0.55737,0.557358,0.557321,0.556975,0.556745,0.556488,0.556276,0.556143,0.55567,0.555652,0.555468,0.55499,0.554461,0.554393,0.553707,0.552745,0.552407,0.552274,0.552227,0.552013,0.551997,0.551968,0.551802,0.551794,0.551473,0.551413,0.550184,0.5499,0.549277,0.549054,0.549048,0.548782,0.54859,0.547854,0.547549,0.547516,0.547457,0.54736,0.547209,0.547204,0.54699,0.546936,0.546847,0.54647,0.546329,0.545811,0.545522,0.545419,0.544827,0.544711,0.544646,0.544592,0.544237,0.544199,0.544168,0.544164,0.544148,0.543686,0.543674,0.543512,0.543486,0.543022,0.542952,0.542728,0.54254,0.542084,0.54175,0.541605,0.541537,0.540754,0.540617,0.540407,0.540195,0.540159,0.539893,0.539851,0.539797,0.539759,0.539742,0.539643,0.539557,0.538907,0.538867,0.538687,0.538614,0.538272,0.537913,0.537902,0.537581,0.537455,0.537195,0.537181,0.536387,0.536054,0.53554,0.534987,0.534985,0.534908,0.534801,0.534567,0.534403,0.534403,0.534024,0.53401,0.53377,0.533616,0.533318,0.533134,0.533037,0.532423,0.532363,0.532282,0.532254,0.532121,0.531895,0.531536,0.531335,0.531286,0.531107,0.530911,0.530867,0.530773,0.530523,0.530248,0.530239,0.530157,0.529845,0.529573,0.529215,0.529113,0.528325,0.527856,0.527522,0.527518,0.526741,0.526721,0.526683,0.526443,0.526422,0.525951,0.525903,0.525693,0.525682,0.525671,0.525534,0.525516,0.5255,0.525467,0.525265,0.525088,0.525078,0.524893,0.524437,0.5242,0.52375,0.523674,0.523435,0.523325,0.523211,0.52318,0.523139,0.523107,0.522455,0.522335,0.52232,0.522284,0.521545,0.521055,0.520879,0.520701,0.520547,0.520302,0.519986,0.519053,0.518809,0.518664,0.51844,0.518397,0.518309,0.517834,0.517615,0.517212,0.517094,0.517041,0.51661,0.51595,0.514892,0.51473,0.514496,0.514354,0.51422,0.513983,0.513127,0.513066,0.512744,0.512486,0.512443,0.512271,0.512211,0.51127,0.510708,0.510703,0.510366,0.510298,0.510226,0.510089,0.509944,0.508894,0.508858,0.508786,0.508099,0.507764,0.507675,0.507598,0.507428,0.507378,0.50727,0.507047,0.50663,0.506601,0.506349,0.506255,0.506149,0.506073,0.505513,0.505039,0.50486,0.504287,0.503684,0.503271,0.503118,0.502802,0.502177,0.502026,0.501909,0.501057,0.500826,0.500252,0.499169,0.498718,0.497446,0.496049,0.495786,0.495614,0.494578,0.494195,0.493825,0.493397,0.492286,0.491839,0.490787,0.490523,0.49027,0.489492,0.489437,0.488628,0.488375,0.486271,0.486227,0.485506,0.485486,0.485287,0.483413,0.482313,0.482106,0.480765,0.478193,0.478096,0.476441,0.476364,0.468699,0.468507,0.466294,0.466103,0.458677,0.458254,0.4515,0.301608,0.30088,0.296958,0.295105,0.294296,0.291815,0.290724,0.290329,0.289099,0.287939,0.277654,0.27411,0.271303,0.271055,0.266142,0.265587,0.261383,0.258876,0.253568,0.25166,0.249739,0.248456,0.243795,0.241892,0.227316,0.213845];

    var formatCount = d3.format(",.0f");

    var svg = d3.select("svg"),
        margin = {top: 10, right: 30, bottom: 30, left: 30},
        width = +svg.attr("width") - margin.left - margin.right,
        height = +svg.attr("height") - margin.top - margin.bottom,
        g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    var x = d3.scaleLinear()
        .rangeRound([0, width]);

    var bins = d3.histogram()
        .domain(x.domain())
        .thresholds(x.ticks(20))
        (data);

    var y = d3.scaleLinear()
        .domain([0, d3.max(bins, function(d) { return d.length; })])
        .range([height, 0]);

    var bar = g.selectAll(".bar")
        .data(bins)
        .enter().append("g")
        .attr("class", "bar")
        .attr("transform", function(d) { return "translate(" + x(d.x0) + "," + y(d.length) + ")"; });

    bar.append("rect")
        .attr("x", 1)
        .attr("width", x(bins[0].x1) - x(bins[0].x0) - 1)
        .attr("height", function(d) { return height - y(d.length); });

    bar.append("text")
        .attr("dy", ".75em")
        .attr("y", 6)
        .attr("x", (x(bins[0].x1) - x(bins[0].x0)) / 2)
        .attr("text-anchor", "middle")
        .text(function(d) { return formatCount(d.length); });

    g.append("g")
        .attr("class", "axis axis--x")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x));

    var div = d3.select("body").append("div").attr("class", "toolTip");

    bar.on("mousemove", function(d, i){
                div.style("left", d3.event.pageX+10+"px");
                div.style("top", d3.event.pageY-25+"px");
                div.style("display", "inline-block");
                div.html(formatCount(d.length));
            });

    bar.on("mouseout", function(d){
                div.style("display", "none");
            });

</script>
