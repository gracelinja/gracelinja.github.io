<!DOCTYPE html>
<!-- source: https://bl.ocks.org/mbostock/3048450 -->

<meta charset="utf-8">
<style>

    .bar rect {
      fill: darkorange;
    }

    .bar text {
      fill: #fff;
      font: 10px sans-serif;
    }

    .toolTip {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        position: absolute;
        display: none;
        width: auto;
        height: auto;
        background: none repeat scroll 0 0 white;
        border: 0 none;
        border-radius: 8px 8px 8px 8px;
        box-shadow: -3px 3px 15px #888888;
        color: black;
        font: 12px sans-serif;
        padding: 5px;
        text-align: center;
    }
    
</style>

<body>
    <h1 align="center" style="font-family:Helvetica, Ariel, sans-serif;">FEMALE - TENTATIVE</h1>
</body>

<svg width="800" height="400"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

    var data = [0.917472,0.913597,0.908804,0.906474,0.904455,0.901971,0.889425,0.883378,0.882425,0.877156,0.876407,0.876198,0.874988,0.864683,0.863744,0.863481,0.861461,0.860225,0.860059,0.858753,0.855126,0.853651,0.852661,0.849242,0.848426,0.846867,0.843895,0.843643,0.842857,0.842085,0.840634,0.840487,0.839985,0.839232,0.839232,0.839229,0.835838,0.834683,0.832749,0.829026,0.828527,0.828279,0.828076,0.826805,0.82527,0.825119,0.825044,0.821838,0.821205,0.81859,0.818175,0.817474,0.817322,0.817307,0.816277,0.813086,0.810865,0.810562,0.810028,0.80949,0.809358,0.808872,0.807391,0.805532,0.804478,0.803751,0.802939,0.801915,0.801904,0.800075,0.798695,0.797863,0.795162,0.794908,0.794178,0.793714,0.793596,0.79353,0.793168,0.79129,0.787945,0.787926,0.787513,0.787135,0.786449,0.785644,0.784904,0.78487,0.784584,0.784415,0.78426,0.782023,0.780762,0.779245,0.778407,0.776664,0.776345,0.77618,0.775279,0.775275,0.774403,0.773349,0.772169,0.770503,0.770333,0.767988,0.767364,0.767089,0.765546,0.765284,0.765055,0.764119,0.762342,0.762079,0.756396,0.756063,0.756057,0.755903,0.755901,0.755587,0.755247,0.755069,0.754991,0.75359,0.753207,0.751585,0.749501,0.74849,0.746073,0.745765,0.745435,0.743582,0.742834,0.741023,0.740716,0.739975,0.737198,0.736244,0.73397,0.73327,0.731961,0.731752,0.729776,0.729453,0.729448,0.726935,0.726616,0.725861,0.724949,0.724063,0.722768,0.722621,0.718454,0.716967,0.716148,0.71566,0.715132,0.714422,0.712964,0.708747,0.708728,0.706609,0.706464,0.703927,0.703881,0.703604,0.702419,0.702169,0.701953,0.700178,0.697227,0.695677,0.694078,0.693696,0.68976,0.685128,0.685101,0.682685,0.681968,0.680715,0.678928,0.678837,0.675519,0.668985,0.666498,0.6655,0.665079,0.664864,0.664447,0.662094,0.660311,0.658974,0.656614,0.655,0.650549,0.649794,0.64964,0.64898,0.648421,0.648151,0.643746,0.643252,0.64234,0.640798,0.640606,0.6403,0.638956,0.636609,0.636399,0.632841,0.632558,0.628738,0.628366,0.626961,0.626556,0.626112,0.625616,0.624892,0.622051,0.617763,0.617654,0.617615,0.616142,0.615761,0.613094,0.612177,0.612034,0.605535,0.601371,0.600366,0.597055,0.596176,0.594834,0.594279,0.592138,0.588456,0.588349,0.584879,0.583677,0.579912,0.579468,0.579315,0.578092,0.577019,0.57619,0.574984,0.573555,0.573358,0.572244,0.568925,0.567015,0.561317,0.560528,0.560251,0.559823,0.556174,0.554855,0.554494,0.55342,0.552337,0.551889,0.551278,0.549394,0.546911,0.54391,0.533726,0.532667,0.532492,0.531174,0.526944,0.526471,0.52058,0.515532,0.513658,0.511949,0.511476,0.508449,0.505963,0.50589,0.505186,0.501974,0.50131,0.498706,0.498271,0.498151,0.495807,0.487419,0.477082,0.475443,0.475181,0.474257,0.459032,0.458025,0.455023,0.446404,0.442995,0.438276,0.437719,0.434457,0.433761,0.432731,0.431645,0.431228,0.416634,0.413195,0.410984,0.407692,0.405806,0.403948,0.402869,0.399918,0.399594,0.397406,0.394942,0.388838,0.386066,0.375599,0.374011,0.373412,0.361842,0.357201,0.356903,0.355033,0.332403,0.32934,0.318733,0.315916,0.311001,0.306193,0.294929,0.293611,0.292979,0.289419,0.273729,0.272404,0.25019,0.248853,0.244829,0.236756,0.22183,0.212104,0.204782,0.200133,0.197159,0.193896,0.186122,0.181159,0.174566,0.174275,0.119639,0.115202,0.105193,0.103203,0.100802,0.095956,0.094667,0.089166,0.084299,0.050341,0.049222,0.034409,0.025816,0.022337,0.022061,0.013958,0.012002,0.008169,0.005733,0.004949,0.001727,0.001074,0.000528,0.000384,0.000257,0.0,0.0,0.0];

    var formatCount = d3.format(",.0f");

    var svg = d3.select("svg"),
        margin = {top: 10, right: 30, bottom: 30, left: 30},
        width = +svg.attr("width") - margin.left - margin.right,
        height = +svg.attr("height") - margin.top - margin.bottom,
        g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    var x = d3.scaleLinear()
        .rangeRound([0, width]);

    var bins = d3.histogram()
        .domain(x.domain())
        .thresholds(x.ticks(20))
        (data);

    var y = d3.scaleLinear()
        .domain([0, d3.max(bins, function(d) { return d.length; })])
        .range([height, 0]);

    var bar = g.selectAll(".bar")
        .data(bins)
        .enter().append("g")
        .attr("class", "bar")
        .attr("transform", function(d) { return "translate(" + x(d.x0) + "," + y(d.length) + ")"; });

    bar.append("rect")
        .attr("x", 1)
        .attr("width", x(bins[0].x1) - x(bins[0].x0) - 1)
        .attr("height", function(d) { return height - y(d.length); });

    bar.append("text")
        .attr("dy", ".75em")
        .attr("y", 6)
        .attr("x", (x(bins[0].x1) - x(bins[0].x0)) / 2)
        .attr("text-anchor", "middle")
        .text(function(d) { return formatCount(d.length); });

    g.append("g")
        .attr("class", "axis axis--x")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x));

    var div = d3.select("body").append("div").attr("class", "toolTip");

    bar.on("mousemove", function(d, i){
                div.style("left", d3.event.pageX+10+"px");
                div.style("top", d3.event.pageY-25+"px");
                div.style("display", "inline-block");
                div.html(formatCount(d.length));
            });

    bar.on("mouseout", function(d){
                div.style("display", "none");
            });

</script>
