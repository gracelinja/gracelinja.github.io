<!DOCTYPE html>
<!-- source: https://bl.ocks.org/mbostock/3048450 -->

<meta charset="utf-8">
<style>

    .bar rect {
      fill: darkorange;
    }

    .bar text {
      fill: #fff;
      font: 10px sans-serif;
    }

    .toolTip {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        position: absolute;
        display: none;
        width: auto;
        height: auto;
        background: none repeat scroll 0 0 white;
        border: 0 none;
        border-radius: 8px 8px 8px 8px;
        box-shadow: -3px 3px 15px #888888;
        color: black;
        font: 12px sans-serif;
        padding: 5px;
        text-align: center;
    }
    
</style>

<body>
    <h1 align="center" style="font-family:Helvetica, Ariel, sans-serif;">FEMALE - DISGUST</h1>
</body>

<svg width="800" height="400"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

    var data = [0.561375,0.560181,0.550209,0.53069,0.530576,0.528425,0.528204,0.527847,0.523915,0.523801,0.513154,0.511598,0.51007,0.509404,0.508844,0.508172,0.50738,0.500243,0.500079,0.498652,0.494225,0.494151,0.493258,0.493016,0.492444,0.492375,0.492201,0.492089,0.491567,0.489772,0.487974,0.486994,0.485143,0.482509,0.480052,0.479964,0.478991,0.478243,0.467469,0.46729,0.466865,0.46584,0.465799,0.463217,0.463186,0.4602,0.459149,0.459134,0.459005,0.456328,0.446447,0.443146,0.440737,0.438579,0.438042,0.437036,0.434328,0.421332,0.418695,0.19829,0.192275,0.191131,0.190739,0.189415,0.187118,0.18554,0.184612,0.181876,0.178626,0.177402,0.174613,0.173278,0.17134,0.171092,0.170585,0.169829,0.169097,0.169089,0.168856,0.168087,0.167898,0.166893,0.166829,0.165927,0.165234,0.164611,0.16452,0.164466,0.164266,0.164043,0.163616,0.163569,0.162218,0.162092,0.162005,0.161994,0.161857,0.161775,0.161631,0.161463,0.160058,0.159947,0.159676,0.15964,0.159638,0.159515,0.158972,0.158796,0.158283,0.158174,0.157671,0.157071,0.156622,0.156499,0.156277,0.15594,0.155733,0.155213,0.155181,0.155081,0.154158,0.153662,0.153444,0.153306,0.153022,0.152687,0.152614,0.152282,0.15226,0.152247,0.152182,0.152105,0.151939,0.15175,0.151638,0.150902,0.150435,0.15,0.149795,0.149703,0.148849,0.148847,0.148293,0.148111,0.14798,0.147681,0.147612,0.147415,0.147348,0.147348,0.147345,0.147302,0.146965,0.146829,0.146556,0.146468,0.146412,0.146273,0.146203,0.146122,0.146121,0.146099,0.145642,0.145602,0.14541,0.145326,0.145176,0.145153,0.145031,0.144909,0.144709,0.144457,0.144405,0.144127,0.144121,0.143759,0.143518,0.14345,0.143442,0.143375,0.143355,0.142841,0.142559,0.142308,0.142058,0.1419,0.141817,0.141506,0.141483,0.141366,0.141259,0.140974,0.140933,0.14077,0.140419,0.140373,0.140131,0.140068,0.139893,0.139869,0.139666,0.139497,0.139463,0.13915,0.139105,0.138937,0.138906,0.13888,0.138877,0.138482,0.138389,0.138309,0.138127,0.137972,0.137962,0.137436,0.137426,0.137174,0.137014,0.136827,0.136794,0.136699,0.136324,0.136277,0.136248,0.13612,0.136112,0.136026,0.13599,0.135817,0.13577,0.135739,0.135625,0.135354,0.135349,0.135231,0.135168,0.135055,0.135028,0.134973,0.134856,0.134806,0.134774,0.1347,0.134698,0.134605,0.134431,0.134288,0.134265,0.13401,0.134,0.133998,0.133977,0.133779,0.13366,0.133426,0.133272,0.13324,0.133222,0.132974,0.132608,0.132531,0.132489,0.132277,0.132101,0.132065,0.132006,0.131978,0.131433,0.1313,0.131209,0.131183,0.131183,0.131136,0.131114,0.131093,0.130989,0.130966,0.130885,0.130884,0.130877,0.130851,0.13066,0.130588,0.130412,0.130401,0.130166,0.12996,0.12984,0.129822,0.129782,0.129773,0.129704,0.129495,0.128885,0.128852,0.12883,0.128816,0.128691,0.128143,0.128042,0.127935,0.12781,0.127697,0.127549,0.127239,0.127085,0.126581,0.12657,0.126098,0.125496,0.125334,0.124966,0.124543,0.124519,0.12446,0.124357,0.123968,0.123741,0.12313,0.122937,0.122712,0.122344,0.122078,0.121958,0.121894,0.121305,0.121165,0.121021,0.120865,0.120195,0.120074,0.119784,0.119651,0.119256,0.11909,0.118989,0.118759,0.11858,0.118459,0.11837,0.117378,0.117211,0.116718,0.11611,0.115968,0.115195,0.114924,0.114914,0.114396,0.113666,0.113612,0.11286,0.111873,0.111213,0.110636,0.110503,0.109827,0.109694,0.109479,0.108986,0.10756,0.107243,0.106712,0.106563,0.105621,0.1034,0.103159,0.102505,0.101171,0.100629,0.100559,0.100532,0.099792,0.095546,0.092886,0.080337];

    var formatCount = d3.format(",.0f");

    var svg = d3.select("svg"),
        margin = {top: 10, right: 30, bottom: 30, left: 30},
        width = +svg.attr("width") - margin.left - margin.right,
        height = +svg.attr("height") - margin.top - margin.bottom,
        g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    var x = d3.scaleLinear()
        .rangeRound([0, width]);

    var bins = d3.histogram()
        .domain(x.domain())
        .thresholds(x.ticks(20))
        (data);

    var y = d3.scaleLinear()
        .domain([0, d3.max(bins, function(d) { return d.length; })])
        .range([height, 0]);

    var bar = g.selectAll(".bar")
        .data(bins)
        .enter().append("g")
        .attr("class", "bar")
        .attr("transform", function(d) { return "translate(" + x(d.x0) + "," + y(d.length) + ")"; });

    bar.append("rect")
        .attr("x", 1)
        .attr("width", x(bins[0].x1) - x(bins[0].x0) - 1)
        .attr("height", function(d) { return height - y(d.length); });

    bar.append("text")
        .attr("dy", ".75em")
        .attr("y", 6)
        .attr("x", (x(bins[0].x1) - x(bins[0].x0)) / 2)
        .attr("text-anchor", "middle")
        .text(function(d) { return formatCount(d.length); });

    g.append("g")
        .attr("class", "axis axis--x")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x));

    var div = d3.select("body").append("div").attr("class", "toolTip");

    bar.on("mousemove", function(d, i){
                div.style("left", d3.event.pageX+10+"px");
                div.style("top", d3.event.pageY-25+"px");
                div.style("display", "inline-block");
                div.html(formatCount(d.length));
            });

    bar.on("mouseout", function(d){
                div.style("display", "none");
            });

</script>
